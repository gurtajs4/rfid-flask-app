<div class="container">
    <button ng-init="displayResults=false" ng-click="displayResults=!displayResults" class="button button-primary">
        View recent session history
    </button>
    <div ng-show="displayResults" class="panel panel-primary">
        <div class="panel-heading">
            <h1>Recent session history of room {{key}}</h1>
        </div>
        <div class="panel-body">
            <div>
                Order sessions by:
                <select ng-model="orderProp" name="orderProp" id="orderProp">
                    <option value="id">Session ID</option>
                    <option value="key_id">Session ID</option>
                    <option value="user_id">Session ID</option>
                    <option value="started_on">Start date</option>
                    <option value="closed_on">End date</option>
                </select>
            </div>
            <hr/>
            <div ng-repeat="sessions in result | orderBy:orderProp track by $index">
                <span>Session ID: <a ng-href="sessions/{{ session.id }}">{{ session.id }}</a> |</span>
                <span>User ID: {{ session.user_id }} |</span>
                <span>Key ID: {{ session.key_id }} |</span>
                <span>Key taken on: {{ session.started_on }}</span>
                <span>Key returned on: {{ session.closed_on ? session.closed_on : "still active" }}</span>
                <br/><br/>
            </div>
        </div>
    </div>
</div>