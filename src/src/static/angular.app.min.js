!function(){"use strict";angular.module("appMain",["ngRoute","ui.bootstrap","ngFileUpload","ngCookies"])}(),function(){"use strict";function e(e,t,r){function n(t){return a.userDelete(t).then(function(e){return!0}).catch(function(t){return e.error(" error: "+t),!1})}function o(){var t=i.list.filter(function(e){return e.isSelected});e.info("Selected users: ",t);for(var r=0;r<t.length;r++)n(t[r].user_id)||e.error("Failed to delete session with id "+t[r].user_id.toString());i.list=i.list.filter(function(e){return t.indexOf(e)<0})}var i=this,a=t,s=r;i.orderOptions=[{id:"user_id",name:"ID korisnika"},{id:"tag_id",name:"Tag ID"},{id:"role_id",name:"Titula"},{id:"first_name",name:"Ime"},{id:"last_name",name:"Prezime"},{id:"email",name:"Email"}],i.deleteSelected=o,function(){a.getItems().then(function(e){var t=e.data,r=[];angular.forEach(t,function(e,t){var r=JSON.parse(e);""===r.pic_url&&(r.pic_url=s.getDefaultUserProfileImageUrl()),this.push(r)},r),i.list=r})}()}angular.module("appMain").controller("UsersController",e),e.$inject=["$log","usersService","imagesService"]}(),function(){"use strict";function e(e){return{restrict:"EA",scope:{user:"=userInfo"},templateUrl:e.appBaseUrl()+"/users/user-info.html"}}angular.module("appMain").directive("userInfo",e),e.$inject=["templateServiceProvider"]}(),function(){"use strict";function e(e,t,r,n,o){function i(){e.model.userData.isSelected&&a.userDelete(e.model.userId).then(function(e){r.url("/users")}).catch(function(e){window.alert(" error: "+e)})}var a=o;e.model={userId:t.id,userData:{}},e.deleteItem=i,function(){a.getItem(e.model.userId).then(function(t){var r=t.data;n.info("Raw data from response",r),e.model.userData=r})}()}angular.module("appMain").controller("UserDetailsController",e),e.$inject=["$scope","$routeParams","$location","$log","usersService"]}(),function(){"use strict";function e(e){function t(t){return e.get("/api/users/search/"+t)}function r(){return e.get("/api/users")}function n(t){return e.get("/api/user/get/"+t.toString())}function o(t){return e.delete("/api/user/delete/"+t.toString())}return{search:t,getItems:r,getItem:n,userDelete:o}}angular.module("appMain").service("usersService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function t(t){return e.get("/api/keys/search/"+t.toString())}function r(){return e.get("api/keys")}function n(t){return e.get("/api/key/get/"+t.toString())}function o(t){return e.delete("/api/key/delete/"+t.toString())}return{search:t,getItems:r,getItem:n,keyDelete:o}}angular.module("appMain").service("keysService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t,r){function n(e){if(r.FileReader)return 1==e.type.match("image.*")}function o(r){e.get(r).then(function(e){return!0}).catch(function(e){return t.error("Log from images service: ",e),!1})}function i(e,t){if(r.FileReader){var n=new r.FileReader;n.onloadend=function(e){t(null===e.target.error?n.result:null)},n.readAsDataURL(e)}}function a(){return"/static/images/default.png"}function s(){return"/static/images/default-room.png"}return{isImage:n,isImageUrl:o,readImageFile:i,getDefaultUserProfileImageUrl:a,getDefaultRoomPhotoUrl:s}}angular.module("appMain").service("imagesService",e),e.$inject=["$http","$log","$window"]}(),function(){"use-strict";function e(e,t){function r(t,r){var n={username:t,password:r};return e.post("/api/login",angular.toJson(n))}function n(r,n,o){var i={username:r,token:n};t.putObject("token",i),e.defaults.headers.common.Authorization="Token "+n,o()}function o(){t.remove("globals"),e.defaults.headers.common.Authorization="Token "}function i(){return t.getObject("globals")}function a(){return!!t.getObject("globals")}return{login:r,setCredentials:n,clearCredentials:o,getCredentials:i,isAuthenticated:a}}angular.module("appMain").service("authService",e),e.$inject=["$http","$cookies"]}(),function(){"use strict";function e(){function e(){function e(){return angular.element(document.querySelector("base")).attr("href")+"static/app"}return{appBaseUrl:e}}this.$get=e}angular.module("appMain").provider("templateServiceProvider",e)}(),function(){"use strict";function e(e){}angular.module("appMain").controller("MainController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e,t){function r(){for(var e=0;e<i.list.length;e++)i.list[e].isSelected=!i.list[e].isSelected}function n(t){return a.sessionDelete(t).then(function(e){return!0}).catch(function(t){return e.error(" error: "+t),!1})}function o(){for(var t=i.list.filter(function(e){return e.isSelected}),r=0;r<t.length;r++)n(t[r].id)||e.error("Failed to delete session with id "+id.toString());i.list=i.list.filter(function(e){return t.indexOf(e)<0})}var i=this,a=t;i.list=[],i.orderOptions=[{id:"id",name:"ID sesije"},{id:"key_id",name:"ID ključa"},{id:"user_id",name:"ID korisnika"},{id:"started_on",name:"Datum preuzimanja"},{id:"closed_on",name:"Datum vraćanja"}],i.selectAll=r,i.deleteById=n,i.deleteSelected=o,function(){a.sessions().then(function(e){for(var t=e.data,r=[],n=0;n<t.length;n++)r.push(JSON.parse(t[n]));i.list=r})}()}angular.module("appMain").controller("SessionsController",e),e.$inject=["$log","sessionService"]}(),function(){"use strict";function e(e){function t(){return e.get("/api/sessions")}function r(t){return e.get("/api/sessions/"+t.toString())}function n(t){return e.delete("/api/sessions/delete/"+t.toString())}return{sessions:t,session:r,sessionDelete:n}}angular.module("appMain").service("sessionService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){return{restrict:"EA",scope:{session:"=sessionInfo"},templateUrl:e.appBaseUrl()+"/sessions/session-info.html"}}angular.module("appMain").directive("sessionInfo",e),e.$inject=["templateServiceProvider"]}(),function(){"use strict";function e(e,t,r){function n(){s.search(a.queryset).then(function(e){var r=e.data;t.info(r);var n=[];angular.forEach(r,function(e,t){var r=JSON.parse(e);this.push(r)},n),a.results=n}).catch(function(e){t.error(e.data)})}function o(e){13==e.which&&a.submit()}function i(){e.url("/home")}var a=this,s=r;a.submit=n,a.cancel=i,a.doSubmit=o,a.results=[]}angular.module("appMain").controller("UsersSearchController",e),e.$inject=["$location","$log","usersService"]}(),function(){"use strict";function e(e){return{restrict:"EA",scope:{results:"="},templateUrl:e.appBaseUrl()+"/search-users/users-results.html"}}angular.module("appMain").directive("usersSearchResults",e),e.$inject=["templateServiceProvider"]}(),function(){"use strict";function e(e,t,r){var n=r;e.orderOptions=[{id:"id",name:"ID sesije"},{id:"key_id",name:"ID ključa"},{id:"user_id",name:"ID korisnika"},{id:"started_on",name:"Datum preuzimanja"},{id:"closed_on",name:"Datum vraćanja"}],function(){n.getSessionsByUser(e.userId).then(function(r){t(function(){e.$apply(function(){for(var t=r.data,n=[],o=0;o<t.length;o++)n.push(JSON.parse(t[o]));e.result=n})},0)})}()}angular.module("appMain").controller("UserSessionsController",e),e.$inject=["$scope","$timeout","searchSessionsService"]}(),function(){"use strict";function e(e){return{restrict:"EA",scope:{userId:"="},templateUrl:e.appBaseUrl()+"/search-sessions/user-sessions.html",controller:"UserSessionsController"}}angular.module("appMain").directive("userSessions",e),e.$inject=["templateServiceProvider"]}(),function(){"use strict";function e(e){function t(t){return e.get("/api/sessions/key/"+t.toString())}function r(t){return e.get("/api/sessions/user/"+t.toString())}return{getSessionsByKey:t,getSessionsByUser:r}}angular.module("appMain").service("searchSessionsService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t,r){var n=r;e.orderOptions=[{id:"id",name:"ID sesije"},{id:"key_id",name:"ID ključa"},{id:"user_id",name:"ID korisnika"},{id:"started_on",name:"Datum preuzimanja"},{id:"closed_on",name:"Datum vraćanja"}],function(){n.getSessionsByKey(e.keyId).then(function(r){t(function(){e.$apply(function(){for(var t=r.data,n=[],o=0;o<t.length;o++)n.push(JSON.parse(t[o]));e.result=n})},0)})}()}angular.module("appMain").controller("KeySessionsController",e),e.$inject=["$scope","$timeout","searchSessionsService"]}(),function(){"use strict";function e(e){return{restrict:"EA",scope:{keyId:"="},templateUrl:e.appBaseUrl()+"/search-sessions/key-sessions.html",controller:"KeySessionsController"}}angular.module("appMain").directive("keySessions",e),e.$inject=["templateServiceProvider"]}(),function(){"use strict";function e(e,t,r){function n(){s.search(a.queryset).then(function(e){var r=e.data;t.info(r);var n=[];angular.forEach(r,function(e,t){var r=JSON.parse(e);this.push(r)},n),a.results=n}).catch(function(e){t.error(e.data)})}function o(e){13==e.which&&a.submit()}function i(){e.url("/home")}var a=this,s=r;a.submit=n,a.cancel=i,a.doSubmit=o,a.results=[]}angular.module("appMain").controller("KeysSearchController",e),e.$inject=["$location","$log","keysService"]}(),function(){"use strict";function e(e){return{restrict:"EA",scope:{results:"="},templateUrl:e.appBaseUrl()+"/search-keys/keys-results.html"}}angular.module("appMain").directive("keysSearchResults",e),e.$inject=["templateServiceProvider"]}(),function(){"use strict";function e(e,t,r,n,o){function i(){var t=!0;return e.firstName||(e.errorRegistering.firstname="Ovo polje je obavezno!",t=!1),e.lastName||(e.errorRegistering.lastname="Ovo polje je obavezno!",t=!1),e.email||(e.errorRegistering.email="Ovo polje je obavezno!",t=!1),e.password||(e.errorRegistering.password="Ovo polje je obavezno!",t=!1),e.password2||(e.errorRegistering.password2="Ovo polje je obavezno!",t=!1),e.password2!=e.password&&(e.errorRegistering.password2="Lozinke moraju biti jednake!",t=!1),e.password.length<9&&(e.errorRegistering.password="Lozinka je sigurna kao ima više od 8 znakova!",t=!1),e.tagInfo.tagId&&!isNaN(e.tagInfo.tagId)||(e.errorRegistering.firstname="Niste prošli karticom preko čitača! Osvježite stranicu i pokušajte ponovno...",t=!1),t}function a(){if(i()){t.debug("Entered the register controller...");var a=l();t.info("User data is: ",a);var s=e.image;t.info("Image is ",s),n.registerUser(a,s).then(function(e){t.info(e.data.data),o.login(a.username,a.password).then(function(n){t.info(e.data);var i=n.data.token;o.setCredentials(a.email,i,function(){r.url("/home")})}).catch(function(e){t.error("Error during login action: ",e)})}).catch(function(e){t.error("Error during register aciton: ",e)})}}function s(){r.url("/home")}function l(){return{tag_id:e.tagInfo.tagId,first_name:e.firstName,last_name:e.lastName,email:e.email,password:e.password,role_id:e.role}}e.title="Stranica za registraciju korisnika",e.note="Registrirajte korisnika pridruživanjem informacija o RFID kartici sa podacima o korisniku",e.tagInfo={tagId:"",message:""},e.isPreloading=!1,e.roleOptions=[{id:1,name:"Profesor"},{id:2,name:"Student"}],e.errorRegistering={firstname:"",lastname:"",email:"",password:"",password2:"",imageFile:""},e.proceed=a,e.cancel=s,e.isValid=i}angular.module("appMain").controller("UserRegisterController",e),e.$inject=["$scope","$log","$location","registerService","authService"]}(),function(){"use strict";function e(e,t){function r(t){return e.post("/api/keys/register",JSON.stringify(t))}function n(e,r){return t.upload({url:"/api/users/register",data:{file:r,user_json:JSON.stringify(e),user:e},method:"POST"})}function o(t){return e.get("/api/users/tag/search/"+t)}function i(t){return e.get("/api/keys/tag/search/"+t)}return{userId:o,keyId:i,registerKey:r,registerUser:n}}angular.module("appMain").service("registerService",e),e.$inject=["$http","Upload"]}(),function(){"use strict";function e(e,t,r,n){function o(){t.info("Tag ID: ",e.tagInfo.tagId);var n={id:-1,tag_id:e.tagInfo.tagId,room_id:e.roomId,block_name:e.blockName,sector_name:e.sectorName,floor:e.floor};t.info("Key: ",n),a.registerKey(n).then(function(e){200==e.status?r.url("/home"):t.debug("Response status is not 200 on registering key: "+e.data)}).catch(function(e){t.error("Failed to create key... "+e.data)})}function i(){r.url("/home")}var a=n;e.title="Stranica za registraciju ključeva",e.note="Registrirajte ključ i prostoriju pridjeljujući broj prostorije s ostalim podacima poput odjela.",e.tagInfo={tagId:"",message:""},e.isRoom=1,e.proceed=o,e.cancel=i}angular.module("appMain").controller("KeyRegisterController",e),e.$inject=["$scope","$log","$location","registerService"]}(),function(){"use strict";function e(e){function t(){return e.get("/api/reader")}return{initReader:t}}angular.module("appMain").service("readerService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){return{restrict:"EA",scope:{tagData:"=",message:"="},templateUrl:e.appBaseUrl()+"/reader/reader.html",controller:"ReaderController"}}angular.module("appMain").directive("reader",e),e.$inject=["templateServiceProvider"]}(),function(){"use strict";function e(e,t,r,n){var o=n;!function(){o.initReader().then(function(n){t.info(n.data),r(function(){var t=n.data.data,r=n.data.message;e.$apply(function(){e.message=r,e.tagData=t})},200)}).catch(function(e){t.error("No data detected, reload page and move your tag closer to reader... "+e.data)})}()}angular.module("appMain").controller("ReaderController",e),e.$inject=["$scope","$log","$timeout","readerService"]}(),function(){"use strict";function e(e){return{restrict:"E",scope:!1,templateUrl:e.appBaseUrl()+"/navigation/navigation.html",controller:"NavController"}}angular.module("appMain").directive("navBar",e),e.$inject=["templateServiceProvider"]}(),function(){"use strict";function e(e,t){function r(t){e.tab=t}function n(t){return e.tab===t}function o(t){var n=e.leftNav.concat(e.midNav.concat(e.rightNav));if("home"==t)return r(0),!0;for(var o=0;o<n.length;o++)if(n[o].route==t)return r(n[o].id),!0;return!1}e.isAuthenticated=!1,e.tab=0,e.setActive=r,e.isActive=n,e.title="RFID sustav",e.leftNav=[{id:0,route:"/",name:"Naslovnica"},{id:1,route:"/sessions",name:"Preuzimanja ključeva"},{id:2,route:"/keys/search",name:"Pretraga ključeva"},{id:3,route:"/keys/seed",name:"Uvoz ključeva"},{id:4,route:"/keys/register",name:"Registracija ključa"},{id:5,route:"/keys",name:"Prostorije"}],e.midNav=[{id:6,route:"/users",name:"Korisnici"},{id:7,route:"/users/search",name:"Pretraga korisnika"}],e.rightNav=[{id:8,route:"/login",name:"Prijava korisnika"},{id:9,route:"/users/register",name:"Registracija korisnika"}],e.$on("$routeChangeStart",function(r,n){if(void 0!=n.$$route){var o=n.$$route.originalPath,i=["/home","/login","/users/register"];e.isAuthenticated=!!t.getCredentials();var a=e.isAuthenticated;angular.forEach(i,function(e,t){e==o&&(a=!0)}),a||$location.url("/login")}}),e.$on("$routeChangeSuccess",function(e,t){void 0!=t.$$route&&o(t.$$route.originalPath.substring(1))})}angular.module("appMain").controller("NavController",e),e.$inject=["$scope","authService"]}(),function(){"use-strict";function e(e,t,r,n){function o(){var t=!0;return e.email||(e.loginError.email="Ovo polje je obavezno!",t=!1),e.password||(e.loginError.password="Ovo polje je obavezno!",t=!1),e.password.length<9&&(e.loginError.password="Lozinka je sigurna kao ima više od 8 znakova!",t=!1),t}function i(){o()&&(t.info("Entered the login controller..."),n.login(e.email,e.password).then(function(t){var o=t.data.token;n.setCredentials(e.email,o,function(){r.url("/home")})}).catch(function(e){t.error(e)}))}e.loginErrror={},e.doLogin=i,e.isValid=o}angular.module("appMain").controller("LoginController",e),e.$inject=["$scope","$log","$location","authService"]}(),function(){"use strict";function e(e,t,r,n,o){function i(){e.get("/api/data/template").then(function(e){var t=e.file;n.info("Filename is ",t),r.open("/api/data/template")})}function a(){o.upload({url:"/api/data/import",data:{file:l.file}}).then(function(e){n.info("Success ",e),t.url("/keys")},function(e){n.error("Error status: ",e)})}function s(){t.url("/home")}var l=this;l.getTemplate=i,l.send=a,l.cancel=s}angular.module("appMain").controller("KeysSeedController",e),e.$inject=["$http","$location","$window","$log","Upload"]}(),function(){"use strict";function e(e,t,r){function n(e){return s.keyDelete(e).then(function(e){return!0}).catch(function(e){return t.error(" error: "+e),!1})}function o(){for(var e=a.list.filter(function(e){return e.isSelected}),r=0;r<e.length;r++)n(e[r].id)||t.error("Failed to delete session with id "+id.toString());a.list=a.list.filter(function(t){return e.indexOf(t)<0})}function i(){e.url("/keys/seed")}var a=this,s=r;a.deleteSelected=o,a.toImport=i,a.orderOptions=[{id:"id",name:"ID ključa"},{id:"tag_id",name:"Tag ID ključa"},{id:"room_id",name:"Broju prostorije"},{id:"sector_name",name:"Odjelu"},{id:"room_repr",name:"Punom zapisu"}],function(){s.getItems().then(function(e){for(var t=e.data,r=[],n=0;n<t.length;n++){var o=t[n];r.push(JSON.parse(o))}a.list=r})}()}angular.module("appMain").controller("KeysController",e),e.$inject=["$location","$log","keysService"]}(),function(){"use strict";function e(e){return{restrict:"EA",scope:{key:"=keyInfo"},templateUrl:e.appBaseUrl()+"/keys/key-info.html"}}angular.module("appMain").directive("keyInfo",e),e.$inject=["templateServiceProvider"]}(),function(){"use strict";function e(e,t,r,n,o){function i(){e.model.userData.isSelected&&a.keyDelete(e.model.keyId).then(function(e){r.url("/keys")}).catch(function(e){window.alert(" error: "+e)})}var a=o;e.model={keyId:t.id,keyData:{}},e.deleteItem=i,function(){a.getItem(e.model.keyId).then(function(t){var r=t.data;n.info("Raw data from response is: ",r),e.model.keyData=r})}()}angular.module("appMain").controller("KeyDetailsController",e),e.$inject=["$scope","$routeParams","$location","$log","keysService"]}(),function(){"use strict";function e(e){e.title="Sustav za upravljanje i organizaciju ključeva od prostorija temeljen na RFID tehnologiji",e.message="Web aplikacija za upravljanje, preuzimanje i vraćanje preuzetih ključeva prostorija."}angular.module("appMain").controller("HomeController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e,t,r,n,o){function i(){return""==e.tagInfo.tagId||""==e.firstName||""==e.lastName||""==e.email||""==e.role}function a(){var r={id:l,tag_id:e.tagInfo.tagId,first_name:e.firstName,last_name:e.lastName,email:e.email,role_id:e.role};t.info("User data is ",r);var o=e.image;t.info("Image name is ",o),u.updateUser(r,o).then(function(e){200==e?n.url("/users"):t.error("Error status: ",e)}).catch(function(e){t.error("Error status: ",e)})}function s(){n.url("/home")}var l=r.id,u=o;e.title="Stranica za uređivanje podataka korisnika",e.note="Uredite podatke korisnika pridruživanjem informacija o RFID kartici sa podacima o korisniku",e.tagInfo={tagId:"",message:""},e.isPreloading=!0,e.roleOptions=[{id:1,name:"Profesor"},{id:2,name:"Student"}],e.proceed=a,e.cancel=s,e.isNotValid=i,function(){u.getUser(l).then(function(r){var n=r.data;t.info("User info loaded: ",n),e.tagInfo.tagId=n.tag_id,e.email=n.email,e.firstName=n.first_name,e.lastName=n.last_name,e.role=e.roleOptions.filter(function(e){return e.id==n.role_id})[0].id,e.image=n.pic_url}).catch(function(e){t.error("Failed to load user data... "+e.data),n.url("/home")})}()}angular.module("appMain").controller("UserEditController",e),e.$inject=["$scope","$log","$routeParams","$location","updateService"]}(),function(){"use strict";function e(e,t){function r(t){return e.get("/api/key/get/"+t.toString())}function n(t){return e.get("/api/user/get/"+t.toString())}function o(t){return e.put("/api/key/edit",JSON.stringify(t))}function i(e,r){return t.upload({url:"/api/user/edit",data:{file:r,user_json:JSON.stringify(e),user:e},method:"PUT"}).then(function(e){return e.status},function(e){return e.status})}return{getKey:r,getUser:n,updateKey:o,updateUser:i}}angular.module("appMain").service("updateService",e),e.$inject=["$http","Upload"]}(),function(){"use strict";function e(e,t,r,n,o){function i(){t.info("TagID: ",e.tagInfo.tagId);var r={id:s,tag_id:e.tagInfo.tagId,room_id:e.roomId,block_name:e.blockName,sector_name:e.sectorName,floor:e.floor,room_repr:e.roomRepr};t.info("Key: ",r),l.updateKey(r).then(function(e){t.info("Updated key: "+e.data),n.url("/keys")}).catch(function(e){t.error("Failed to create key... "+e.data)})}function a(){n.url("/home")}var s=r.id,l=o;e.title="Stranica za uređivanje podataka o ključu",e.note="Uredite podatke o ključu i prostoriji pridjeljujući broj prostorije s ostalim podacima poput odjela.",e.tagInfo={tagId:"",message:""},e.isRoom=1,e.isPreloading=!0,e.proceed=i,e.cancel=a,e.$watch("tagInfo.tagId",function(e,r){t.info("Previous tag data: ",e),t.info("New tag data: ",r)}),function(){l.getKey(s).then(function(r){var n=r.data;t.info("Key info loaded: ",n),e.isRoom=n.block_name.includes("F")&&n.sector_name.includes("A")?2:1,e.tagInfo.tagId=n.tag_id,e.roomId=n.room_id,e.blockName=n.block_name,e.sectorName=n.sector_name,e.floor=n.floor,e.roomRepr=n.room_repr,e.isPreloading=!1,t.info("TagID: ",e.tagInfo.tagId)}).catch(function(e){t.error("Failed to load key data... "+e.data),n.url("/home")})}()}angular.module("appMain").controller("KeyEditController",e),e.$inject=["$scope","$log","$routeParams","$location","updateService"]}(),function(){"use-strict";function e(e){return{restrict:"E",scope:{tagData:"="},controller:"CounterController",templateUrl:e.appBaseUrl()+"/counter/counter.html"}}angular.module("appMain").directive("counter",e),e.$inject=["templateServiceProvider"]}(),function(){"use-strict";function e(e,t){e.message=" OPREZ! Vremena preostalo za očitanje: ",e.counter=60;var r=function(){--e.counter>=0||""!=e.tagData?t(r,1e3):e.counter=0};r()}angular.module("appMain").controller("CounterController",e),e.$inject=["$scope","$timeout"]}(),function(){"use-strict";function e(e){return{restrict:"E",scope:!1,controller:"AuthDashboardController",templateUrl:e.appBaseUrl()+"/auth-dashboard/auth-dashboard.html"}}angular.module("appMain").directive("authDashboard",e),e.$inject=["templateServiceProvider"]}(),function(){"use-strict";function e(e,t,r,n){function o(t){e.username=t}function i(){n.search(e.username).then(function(e){var r=null;angular.forEach(e.data,function(e,t){var n=JSON.parse(e);n&&(r=n.id)}),r&&t.url("/users/edit/"+r.toString())})}function a(){r.clearCredentials(),t.url("/home")}e.logout=a,e.editProfile=i,function(){o(r.getCredentials().username)}(),e.$on("$routeChangeStart",function(t,n){var i=r.getCredentials().username;e.username!=i&&o(i)})}angular.module("appMain").controller("AuthDashboardController",e),e.$inject=["$scope","$location","authService","userService"]}(),function(){"use strict";function e(e,t){var r=angular.element(document.querySelector("base")).attr("href")+"static/app";t.html5Mode({enabled:!0,requireBase:!1,rewriteLinks:!0}),e.when("/home",{templateUrl:r+"/home/home.html",controller:"HomeController",controllerAs:"home"}).when("/login",{templateUrl:r+"/login/login.html",controller:"LoginController"}).when("/sessions",{templateUrl:r+"/sessions/sessions.html",controller:"SessionsController",controllerAs:"sessions"}).when("/sessions/:id",{templateUrl:r+"/sessions/session-info.html",controller:"SessionInfoController",controllerAs:"sessionInfo"}).when("/keys",{templateUrl:r+"/keys/keys.html",controller:"KeysController",controllerAs:"keys"}).when("/key-details/:id",{templateUrl:r+"/key-details/key-details.html",controller:"KeyDetailsController"}).when("/keys/search",{templateUrl:r+"/search-keys/keys-search-form.html",controller:"KeysSearchController",controllerAs:"keysSearch"}).when("/users",{templateUrl:r+"/users/users.html",controller:"UsersController",controllerAs:"users"}).when("/user-details/:id",{templateUrl:r+"/user-details/user-details.html",controller:"UserDetailsController"}).when("/users/search",{templateUrl:r+"/search-users/users-search-form.html",controller:"UsersSearchController",controllerAs:"usersSearch"}).when("/users/register",{templateUrl:r+"/forms/user-form.html",controller:"UserRegisterController"}).when("/keys/register",{templateUrl:r+"/forms/key-form.html",controller:"KeyRegisterController"}).when("/users/edit/:id",{templateUrl:r+"/forms/user-form.html",controller:"UserEditController"}).when("/keys/edit/:id",{templateUrl:r+"/forms/key-form.html",controller:"KeyEditController"}).when("/keys/seed",{templateUrl:r+"/keys-seed/keys-seed.html",controller:"KeysSeedController",controllerAs:"keysSeed"}).otherwise({redirectTo:"/home"})}angular.module("appMain").config(e),e.$inject=["$routeProvider","$locationProvider","$httpProvider"]}();